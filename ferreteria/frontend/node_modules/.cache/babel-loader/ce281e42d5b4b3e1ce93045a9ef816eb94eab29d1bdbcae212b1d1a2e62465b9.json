{"ast":null,"code":"import _defineProperty from\"C:/Users/salva/Desktop/Visual Studio codes/Proyectos/React-Django/ferreteria/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/salva/Desktop/Visual Studio codes/Proyectos/React-Django/ferreteria/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/salva/Desktop/Visual Studio codes/Proyectos/React-Django/ferreteria/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import axios from\"axios\";import ListProduct from\"./ListProduct\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Product(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setNewProducts=_useState2[1];var _useState3=useState({name:\"\",descripcion:\"\",imagen:\"\",stock:false,categoria:\"\"}),_useState4=_slicedToArray(_useState3,2),formProduct=_useState4[0],setFormProduct=_useState4[1];useEffect(function(){getProducts();},[]);function getProducts(){axios({method:\"GET\",url:\"/products/\"}).then(function(response){var data=response.data;setNewProducts(data);}).catch(function(error){if(error.response){console.log(error.response);console.log(error.response.status);console.log(error.response.headers);}});}function createProduct(event){axios({method:\"POST\",url:\"/products/\",data:{title:formProduct.title,content:formProduct.content}}).then(function(response){getProducts();});setFormProduct({name:\"\",descrition:\"\",imagen:\"\",stock:false,categoria:\"\"});event.preventDefault();}function DeleteNote(id){axios({method:\"DELETE\",url:\"/products/\".concat(id,\"/\")}).then(function(response){getProducts();});}function handleChange(event){var _event$target=event.target,value=_event$target.value,name=_event$target.name;setFormProduct(function(prevProduct){return _objectSpread(_objectSpread({},prevProduct),{},_defineProperty({},name,value));});}return/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[/*#__PURE__*/_jsxs(\"form\",{className:\"create-note\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,text:formProduct.name,name:\"name\",placeholder:\"Name\",value:formProduct.name}),/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,text:formProduct.categoria,name:\"categoria\",placeholder:\"Categoria\",value:formProduct.categoria}),/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,text:formProduct.imagen,name:\"imagen\",placeholder:\"Imagen\",value:formProduct.categoria}),/*#__PURE__*/_jsx(\"textarea\",{onChange:handleChange,name:\"descripcion\",placeholder:\"Take a note...\",value:formProduct.descripcion}),/*#__PURE__*/_jsx(\"button\",{onClick:createProduct,children:\"Create Post\"})]}),notes&&notes.map(function(product){return/*#__PURE__*/_jsx(ListProduct,{id:product.id,name:product.name,descripcion:product.descripcion,imagen:product.imagen,categoria:product.categoria,deletion:DeleteNote},product.id);})]});}export default Note;","map":{"version":3,"names":["useState","useEffect","axios","ListProduct","jsx","_jsx","jsxs","_jsxs","Product","_useState","_useState2","_slicedToArray","products","setNewProducts","_useState3","name","descripcion","imagen","stock","categoria","_useState4","formProduct","setFormProduct","getProducts","method","url","then","response","data","catch","error","console","log","status","headers","createProduct","event","title","content","descrition","preventDefault","DeleteNote","id","concat","handleChange","_event$target","target","value","prevProduct","_objectSpread","_defineProperty","className","children","onChange","text","placeholder","onClick","notes","map","product","deletion","Note"],"sources":["C:/Users/salva/Desktop/Visual Studio codes/Proyectos/React-Django/ferreteria/frontend/src/components/Product.jsx"],"sourcesContent":["import {useState, useEffect} from \"react\"\r\nimport axios from \"axios\"\r\nimport ListProduct from \"./ListProduct\"\r\n\r\nfunction Product() {\r\n    const [products , setNewProducts] = useState(null)\r\n    const [formProduct, setFormProduct] = useState({\r\n          name: \"\",\r\n          descripcion: \"\",\r\n          imagen: \"\",\r\n          stock: false,\r\n          categoria: \"\"\r\n          })\r\n\r\n       useEffect(() => {\r\n        getProducts()\r\n            } ,[])\r\n\r\n    function getProducts() {\r\n        axios({\r\n        method: \"GET\",\r\n        url:\"/products/\",\r\n        }).then((response)=>{\r\n        const data = response.data\r\n        setNewProducts(data)\r\n        }).catch((error) => {\r\n        if (error.response) {\r\n            console.log(error.response);\r\n            console.log(error.response.status);\r\n            console.log(error.response.headers);\r\n            }\r\n        })}\r\n\r\n    function createProduct(event) {\r\n        axios({\r\n        method: \"POST\",\r\n        url:\"/products/\",\r\n        data:{\r\n            title: formProduct.title,\r\n            content: formProduct.content\r\n        }\r\n        })\r\n        .then((response) => {\r\n        getProducts()\r\n        })\r\n\r\n    \r\n    setFormProduct(({\r\n          name: \"\",\r\n          descrition: \"\",\r\n          imagen: \"\",\r\n          stock: false,\r\n          categoria: \"\"}))\r\n\r\n        event.preventDefault()\r\n        }\r\n    \r\n    function DeleteNote(id) {\r\n        axios({\r\n        method: \"DELETE\",\r\n        url:`/products/${id}/`,\r\n        })\r\n        .then((response) => {\r\n        getProducts()\r\n        });\r\n    }  \r\n    \r\n    function handleChange(event) { \r\n        const {value, name} = event.target\r\n        setFormProduct(prevProduct => ({\r\n            ...prevProduct, [name]: value})\r\n        )}\r\n\r\n    return (\r\n      <div className=''>\r\n\r\n            <form className=\"create-note\">\r\n                <input onChange={handleChange} text={formProduct.name} name=\"name\" placeholder=\"Name\" value={formProduct.name} />\r\n                <input onChange={handleChange} text={formProduct.categoria} name=\"categoria\" placeholder=\"Categoria\" value={formProduct.categoria} />\r\n                <input onChange={handleChange} text={formProduct.imagen} name=\"imagen\" placeholder=\"Imagen\" value={formProduct.categoria} />\r\n                <textarea onChange={handleChange} name=\"descripcion\" placeholder=\"Take a note...\" value={formProduct.descripcion} />\r\n                <button onClick={createProduct}>Create Post</button>\r\n            </form>\r\n                { notes && notes.map(product => <ListProduct\r\n                key={product.id}\r\n                id={product.id}\r\n                name={product.name}\r\n                descripcion={product.descripcion}\r\n                imagen={product.imagen} \r\n                categoria = {product.categoria}\r\n                deletion ={DeleteNote}\r\n                />\r\n                )}\r\n      </div>\r\n  );\r\n}\r\n\r\n\r\nexport default Note;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}