{"ast":null,"code":"import _defineProperty from\"C:/Users/salva/Desktop/Visual Studio codes/Proyectos/React-Django/ferreteria/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/salva/Desktop/Visual Studio codes/Proyectos/React-Django/ferreteria/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/salva/Desktop/Visual Studio codes/Proyectos/React-Django/ferreteria/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import axios from\"axios\";import List from\"./List\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Note(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),notes=_useState2[0],setNewNotes=_useState2[1];var _useState3=useState({title:\"\",content:\"\"}),_useState4=_slicedToArray(_useState3,2),formNote=_useState4[0],setFormNote=_useState4[1];useEffect(function(){getNotes();},[]);function getNotes(){axios({method:\"GET\",url:\"/notes/\"}).then(function(response){var data=response.data;setNewNotes(data);}).catch(function(error){if(error.response){console.log(error.response);console.log(error.response.status);console.log(error.response.headers);}});}function createNote(event){axios({method:\"POST\",url:\"/notes/\",data:{title:formNote.title,content:formNote.content}}).then(function(response){getNotes();});setFormNote({title:\"\",content:\"\"});event.preventDefault();}function DeleteNote(id){axios({method:\"DELETE\",url:\"/notes/\".concat(id,\"/\")}).then(function(response){getNotes();});}function handleChange(event){var _event$target=event.target,value=_event$target.value,name=_event$target.name;setFormNote(function(prevNote){return _objectSpread(_objectSpread({},prevNote),{},_defineProperty({},name,value));});}return/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[/*#__PURE__*/_jsxs(\"form\",{className:\"create-note\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,text:formNote.title,name:\"title\",placeholder:\"Title\",value:formNote.title}),/*#__PURE__*/_jsx(\"textarea\",{onChange:handleChange,name:\"content\",placeholder:\"Take a note...\",value:formNote.content}),/*#__PURE__*/_jsx(\"button\",{onClick:createNote,children:\"Create Post\"})]}),notes&&notes.map(function(note){return/*#__PURE__*/_jsx(List,{id:note.id,title:note.title,content:note.content,deletion:DeleteNote},note.id);})]});}export default Note;","map":{"version":3,"names":["useState","useEffect","axios","List","jsx","_jsx","jsxs","_jsxs","Note","_useState","_useState2","_slicedToArray","notes","setNewNotes","_useState3","title","content","_useState4","formNote","setFormNote","getNotes","method","url","then","response","data","catch","error","console","log","status","headers","createNote","event","preventDefault","DeleteNote","id","concat","handleChange","_event$target","target","value","name","prevNote","_objectSpread","_defineProperty","className","children","onChange","text","placeholder","onClick","map","note","deletion"],"sources":["C:/Users/salva/Desktop/Visual Studio codes/Proyectos/React-Django/ferreteria/frontend/src/components/Notes.jsx"],"sourcesContent":["import {useState, useEffect} from \"react\"\r\nimport axios from \"axios\"\r\nimport  List from \"./List\"\r\n\r\nfunction Note() {\r\n    const [notes , setNewNotes] = useState(null)\r\n    const [formNote, setFormNote] = useState({\r\n          title: \"\",\r\n          content: \"\"\r\n          })\r\n\r\n    useEffect(() => {\r\n        getNotes()\r\n            } ,[])\r\n    \r\n\r\nfunction getNotes() {\r\n  axios({\r\n      method: \"GET\",\r\n      url:\"/notes/\",\r\n    }).then((response)=>{\r\n      const data = response.data\r\n      setNewNotes(data)\r\n    }).catch((error) => {\r\n      if (error.response) {\r\n        console.log(error.response);\r\n        console.log(error.response.status);\r\n        console.log(error.response.headers);\r\n        }\r\n    })}\r\n\r\n    function createNote(event) {\r\n    axios({\r\n      method: \"POST\",\r\n      url:\"/notes/\",\r\n      data:{\r\n        title: formNote.title,\r\n        content: formNote.content\r\n       }\r\n    })\r\n    .then((response) => {\r\n      getNotes()\r\n    })\r\n\r\n    setFormNote(({\r\n      title: \"\",\r\n      content: \"\"}))\r\n\r\n    event.preventDefault()\r\n}\r\n\r\n\r\nfunction DeleteNote(id) {\r\n    axios({\r\n      method: \"DELETE\",\r\n      url:`/notes/${id}/`,\r\n    })\r\n    .then((response) => {\r\n      getNotes()\r\n    });\r\n}\r\n\r\n\r\nfunction handleChange(event) { \r\n  const {value, name} = event.target\r\n  setFormNote(prevNote => ({\r\n      ...prevNote, [name]: value})\r\n  )}\r\n\r\n\r\n   return (\r\n      <div className=''>\r\n\r\n            <form className=\"create-note\">\r\n                <input onChange={handleChange} text={formNote.title} name=\"title\" placeholder=\"Title\" value={formNote.title} />\r\n                <textarea onChange={handleChange} name=\"content\" placeholder=\"Take a note...\" value={formNote.content} />\r\n                <button onClick={createNote}>Create Post</button>\r\n            </form>\r\n                { notes && notes.map(note => <List\r\n                key={note.id}\r\n                id={note.id}\r\n                title={note.title}\r\n                content={note.content} \r\n                deletion ={DeleteNote}\r\n                />\r\n                )}\r\n      </div>\r\n  );\r\n          }\r\n\r\n\r\nexport default Note;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}