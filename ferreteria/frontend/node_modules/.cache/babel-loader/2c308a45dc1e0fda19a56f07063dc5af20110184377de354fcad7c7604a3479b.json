{"ast":null,"code":"import _defineProperty from\"C:/Users/salva/Desktop/Visual Studio codes/Proyectos/React-Django2/ferreteria/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/salva/Desktop/Visual Studio codes/Proyectos/React-Django2/ferreteria/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/salva/Desktop/Visual Studio codes/Proyectos/React-Django2/ferreteria/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import axios from\"axios\";import ListProduct from\"./ListProduct\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Product(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setNewProducts=_useState2[1];var _useState3=useState({name:\"\",description:\"\",image:\"\",stock:false,category:\"\",price:0}),_useState4=_slicedToArray(_useState3,2),formProduct=_useState4[0],setFormProduct=_useState4[1];useEffect(function(){getProducts();},[]);function getProducts(){axios({method:\"GET\",url:\"/products/\"}).then(function(response){var data=response.data;setNewProducts(data);}).catch(function(error){if(error.response){console.log(error.response);console.log(error.response.status);console.log(error.response.headers);}});}function createProduct(event){axios({method:\"POST\",url:\"/products/\",data:{name:formProduct.name,description:formProduct.description,image:formProduct.image,stock:formProduct.stock,category:formProduct.category,price:formProduct.price}}).then(function(response){getProducts();});setFormProduct({name:\"\",descrition:\"\",image:\"\",stock:false,category:\"\",price:0});event.preventDefault();}function DeleteProduct(id){axios({method:\"DELETE\",url:\"/products/\".concat(id,\"/\")}).then(function(response){getProducts();});}function AddCart(id){axios({method:\"GET\",url:\"/products/\".concat(id)}).then(function(response){getProducts();});}function handleChange(event){var _event$target=event.target,value=_event$target.value,name=_event$target.name;setFormProduct(function(prevProduct){return _objectSpread(_objectSpread({},prevProduct),{},_defineProperty({},name,value));});}return/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[/*#__PURE__*/_jsxs(\"form\",{className:\"create-product\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,text:formProduct.name,name:\"name\",placeholder:\"Name\",value:formProduct.name}),/*#__PURE__*/_jsx(\"textarea\",{onChange:handleChange,name:\"description\",placeholder:\"This is a description...\",value:formProduct.description}),/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,text:formProduct.category,name:\"category\",placeholder:\"category\",value:formProduct.category}),/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,text:formProduct.price,name:\"price\",placeholder:\"Price\",value:formProduct.price}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"image\",placeholder:\"Image\",value:formProduct.image}),/*#__PURE__*/_jsx(\"button\",{onClick:createProduct,children:\"Create Product\"})]}),products&&products.map(function(product){return/*#__PURE__*/_jsx(ListProduct,{id:product.id,name:product.name,description:product.description,image:product.image,category:product.category,price:product.price,deletion:DeleteProduct,cart:AddCart},product.id);})]});}export default Product;","map":{"version":3,"names":["useState","useEffect","axios","ListProduct","jsx","_jsx","jsxs","_jsxs","Product","_useState","_useState2","_slicedToArray","products","setNewProducts","_useState3","name","description","image","stock","category","price","_useState4","formProduct","setFormProduct","getProducts","method","url","then","response","data","catch","error","console","log","status","headers","createProduct","event","descrition","preventDefault","DeleteProduct","id","concat","AddCart","handleChange","_event$target","target","value","prevProduct","_objectSpread","_defineProperty","className","children","onChange","text","placeholder","type","onClick","map","product","deletion","cart"],"sources":["C:/Users/salva/Desktop/Visual Studio codes/Proyectos/React-Django2/ferreteria/frontend/src/components/Product.jsx"],"sourcesContent":["import {useState, useEffect} from \"react\"\r\nimport axios from \"axios\"\r\nimport ListProduct from \"./ListProduct\"\r\n\r\nfunction Product() {\r\n    const [products , setNewProducts] = useState(null)\r\n    const [formProduct, setFormProduct] = useState({\r\n          name: \"\",\r\n          description: \"\",\r\n          image: \"\",\r\n          stock: false,\r\n          category: \"\",\r\n          price: 0,\r\n          })\r\n\r\n       useEffect(() => {\r\n        getProducts()\r\n            } ,[])\r\n\r\n    function getProducts() {\r\n        axios({\r\n        method: \"GET\",\r\n        url:\"/products/\",\r\n        }).then((response)=>{\r\n        const data = response.data\r\n        setNewProducts(data)\r\n        }).catch((error) => {\r\n        if (error.response) {\r\n            console.log(error.response);\r\n            console.log(error.response.status);\r\n            console.log(error.response.headers);\r\n            }\r\n        })}\r\n\r\n    function createProduct(event) {\r\n        axios({\r\n        method: \"POST\",\r\n        url:\"/products/\",\r\n        data:{\r\n            name: formProduct.name,\r\n            description: formProduct.description,\r\n            image: formProduct.image,\r\n            stock: formProduct.stock,\r\n            category: formProduct.category,\r\n            price: formProduct.price,\r\n        }\r\n        })\r\n        .then((response) => {\r\n        getProducts()\r\n        })\r\n\r\n    \r\n    setFormProduct(({\r\n          name: \"\",\r\n          descrition: \"\",\r\n          image: \"\",\r\n          stock: false,\r\n          category: \"\",\r\n          price: 0}))\r\n\r\n        event.preventDefault()\r\n        }\r\n    \r\n    function DeleteProduct(id) {\r\n        axios({\r\n        method: \"DELETE\",\r\n        url:`/products/${id}/`,\r\n        })\r\n        .then((response) => {\r\n        getProducts()\r\n        });\r\n    } \r\n    \r\n    function AddCart(id){\r\n        axios({\r\n            method: \"GET\",\r\n            url: `/products/${id}`,\r\n        })\r\n        .then((response) => {\r\n        getProducts()\r\n        });\r\n    }\r\n    \r\n    function handleChange(event) { \r\n        const {value, name} = event.target\r\n        setFormProduct(prevProduct => ({\r\n            ...prevProduct, [name]: value})\r\n        )}\r\n\r\n    return (\r\n      <div className=''>\r\n\r\n            <form className=\"create-product\">\r\n                <input onChange={handleChange} text={formProduct.name} name=\"name\" placeholder=\"Name\" value={formProduct.name} />\r\n                <textarea onChange={handleChange} name=\"description\" placeholder=\"This is a description...\" value={formProduct.description} />\r\n                <input onChange={handleChange} text={formProduct.category} name=\"category\" placeholder=\"category\" value={formProduct.category} />\r\n                <input onChange={handleChange} text={formProduct.price} name=\"price\" placeholder=\"Price\" value={formProduct.price} />\r\n                <input type='file' name='image' placeholder=\"Image\" value={formProduct.image}></input>\r\n                <button onClick={createProduct}>Create Product</button>\r\n            </form>\r\n                { products && products.map(product => <ListProduct\r\n                key={product.id}\r\n                id={product.id}\r\n                name={product.name}\r\n                description={product.description}\r\n                image={product.image} \r\n                category = {product.category}\r\n                price = {product.price}\r\n                deletion ={DeleteProduct}\r\n                cart = {AddCart}\r\n                />\r\n                )}\r\n      </div>\r\n  );\r\n}\r\n\r\n\r\nexport default Product;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}